'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(d,g,m){if(null==d)throw new TypeError("The 'this' value for String.prototype."+m+" must not be null or undefined");if(g instanceof RegExp)throw new TypeError("First argument to String.prototype."+m+" must not be a regular expression");return d+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,g,m){d!=Array.prototype&&d!=Object.prototype&&(d[g]=m.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(d,g,m,u){if(g){m=$jscomp.global;d=d.split(".");for(u=0;u<d.length-1;u++){var w=d[u];w in m||(m[w]={});m=m[w]}d=d[d.length-1];u=m[d];g=g(u);g!=u&&null!=g&&$jscomp.defineProperty(m,d,{configurable:!0,writable:!0,value:g})}};
$jscomp.polyfill("String.prototype.startsWith",function(d){return d?d:function(g,d){var m=$jscomp.checkStringArgs(this,g,"startsWith");g+="";var w=m.length,n=g.length;d=Math.max(0,Math.min(d|0,m.length));for(var v=0;v<n&&d<w;)if(m[d++]!=g[v++])return!1;return v>=n}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;
$jscomp.Symbol=function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+$jscomp.symbolCounter_++};$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.arrayIterator=function(d){var g=0;return $jscomp.iteratorPrototype(function(){return g<d.length?{done:!1,value:d[g++]}:{done:!0}})};$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};
$jscomp.polyfill("Array.from",function(d){return d?d:function(g,d,u){$jscomp.initSymbolIterator();d=null!=d?d:function(g){return g};var m=[],n=g[Symbol.iterator];if("function"==typeof n)for(g=n.call(g);!(n=g.next()).done;)m.push(d.call(u,n.value));else{n=g.length;for(var v=0;v<n;v++)m.push(d.call(u,g[v]))}return m}},"es6","es3");
$jscomp.iteratorFromArray=function(d,g){$jscomp.initSymbolIterator();d instanceof String&&(d+="");var m=0,u={next:function(){if(m<d.length){var w=m++;return{value:g(w,d[w]),done:!1}}u.next=function(){return{done:!0,value:void 0}};return u.next()}};u[Symbol.iterator]=function(){return u};return u};$jscomp.polyfill("Array.prototype.keys",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(g){return g})}},"es6","es3");
$jscomp.polyfill("Math.hypot",function(d){return d?d:function(g,d,u){g=Number(g);d=Number(d);var m,n=Math.max(Math.abs(g),Math.abs(d));for(m=2;m<arguments.length;m++)n=Math.max(n,Math.abs(arguments[m]));if(1E100<n||1E-100>n){g/=n;d/=n;var v=g*g+d*d;for(m=2;m<arguments.length;m++){var K=Number(arguments[m])/n;v+=K*K}return Math.sqrt(v)*n}v=g*g+d*d;for(m=2;m<arguments.length;m++)K=Number(arguments[m]),v+=K*K;return Math.sqrt(v)}},"es6","es3");
$jscomp.polyfill("Math.sinh",function(d){if(d)return d;var g=Math.exp;return function(d){d=Number(d);return 0===d?d:(g(d)-g(-d))/2}},"es6","es3");$jscomp.polyfill("Math.cosh",function(d){if(d)return d;var g=Math.exp;return function(d){d=Number(d);return(g(d)+g(-d))/2}},"es6","es3");$jscomp.polyfill("Math.tanh",function(d){return d?d:function(d){d=Number(d);if(0===d)return d;var g=Math.exp(-2*Math.abs(d));g=(1-g)/(1+g);return 0>d?-g:g}},"es6","es3");
$jscomp.polyfill("Math.asinh",function(d){return d?d:function(d){d=Number(d);if(0===d)return d;var g=Math.log(Math.abs(d)+Math.sqrt(d*d+1));return 0>d?-g:g}},"es6","es3");$jscomp.polyfill("Math.acosh",function(d){return d?d:function(d){d=Number(d);return Math.log(d+Math.sqrt(d*d-1))}},"es6","es3");$jscomp.polyfill("Math.log1p",function(d){return d?d:function(d){d=Number(d);if(.25>d&&-.25<d){for(var g=d,u=1,w=d,n=0,v=1;n!=w;)g*=d,v*=-1,w=(n=w)+v*g/++u;return w}return Math.log(1+d)}},"es6","es3");
$jscomp.polyfill("Math.atanh",function(d){if(d)return d;var g=Math.log1p;return function(d){d=Number(d);return(g(d)-g(-d))/2}},"es6","es3");$jscomp.polyfill("Math.trunc",function(d){return d?d:function(d){d=Number(d);if(isNaN(d)||Infinity===d||-Infinity===d||0===d)return d;var g=Math.floor(Math.abs(d));return 0>d?-g:g}},"es6","es3");
function fight_sim(){function d(a){return void 0===a||null===a?!1:0<=["boolean","number"].indexOf(typeof a)?a:a.__bool__ instanceof Function?a.__bool__()?a:!1:a.__len__ instanceof Function?0!==a.__len__()?a:!1:a instanceof Function?a:0!==A(a)?a:!1}function g(){try{return{value:this.__next__(),done:!1}}catch(a){return{value:void 0,done:!0}}}function m(){var a=this.next();if(a.done)throw aa(Error());return a.value}function u(a){if("string"==typeof a||"__iter__"in a){var b=a.__iter__();b.next=g}else if("selector"in
a)b=c(a).__iter__(),b.next=g;else if("next"in a)b=a,"__next__"in b||(b.__next__=m);else if(Symbol.iterator in a)b=a[Symbol.iterator](),b.__next__=m;else throw ja(Error());b[Symbol.iterator]=function(){return b};return b}function w(a){this.iterable=a;this.index=0}function n(a){this.iterable=a;this.index=0}function v(a,b,c){void 0==b&&(b=a,a=0);void 0==c&&(c=1);if(0<c&&a>=b||0>c&&a<=b)return[];for(var q=[];0<c?a<b:a>b;a+=c)q.push(a);return q}function K(a){for(var b=0,c=0;c<a.length;c++)b+=a[c];return b}
function Y(a){if(null==a||"object"==typeof a)return a;var b={},c;for(c in obj)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function ba(a){if(null==a||"object"==typeof a)return a;var b={},c;for(c in obj)a.hasOwnProperty(c)&&(b[c]=ba(a[c]));return b}function c(a){return a?[].slice.apply(a):[]}function l(a){a=a?[].slice.apply(a):[];a.__class__=l;return a}function I(a){var b=[];if(a)for(var c=0;c<a.length;c++)b.add(a[c]);b.__class__=I;return b}function ca(a,b){if(void 0==a)return new Uint8Array(0);b=S(a);
if(b==B)return new Uint8Array(a);if(b==E){b=new Uint8Array(A(a));for(var q=0;q<A(a);q++)b[q]=a.charCodeAt(q);return b}if(b==c||b==l)return new Uint8Array(a);throw ka;}function E(a){try{return a.__str__()}catch(b){try{return T(a)}catch(q){return String(a)}}}function la(){var a=[],b;for(b in this)P(b)||a.push(b);return a}function ma(){var a=[],b;for(b in this)P(b)||a.push([b,this[b]]);return a}function na(a){delete this[a]}function oa(){for(var a in this)delete this[a]}function pa(a,b){a=this[a];return void 0==
a?void 0==b?null:b:a}function qa(a,b){var c=this[a];if(void 0!=c)return c;b=void 0==b?null:b;return this[a]=b}function ra(a,b){var c=this[a];if(void 0!=c)return delete this[a],c;if(void 0===b)throw da(a,Error());return b}function sa(){var a=Object.keys(this)[0];if(null==a)throw da("popitem(): dictionary is empty",Error());var b=l([a,this[a]]);delete this[a];return b}function ta(a){for(var b in a)this[b]=a[b]}function ua(){var a=[],b;for(b in this)P(b)||a.push(this[b]);return a}function va(a){return this[a]}
function wa(a,b){this[a]=b}function F(a){var b={};if(!a||a instanceof Array){if(a)for(var c=0;c<a.length;c++){var d=a[c];if(!(d instanceof Array)||2!=d.length)throw V("dict update sequence element #"+c+" has length "+d.length+"; 2 is required",Error());var e=d[0];d=d[1];!(a instanceof Array)&&a instanceof Object&&(U(a,F)||(d=F(d)));b[e]=d}}else if(U(a,F))for(d=a.py_keys(),c=0;c<d.length;c++)e=d[c],b[e]=a[e];else if(a instanceof Object)b=a;else throw V("Invalid type of object for dict creation",Error());
x(b,"__class__",{value:F,enumerable:!1,writable:!0});x(b,"py_keys",{value:la,enumerable:!1});x(b,"__iter__",{value:function(){new w(this.py_keys())},enumerable:!1});x(b,Symbol.iterator,{value:function(){new n(this.py_keys())},enumerable:!1});x(b,"py_items",{value:ma,enumerable:!1});x(b,"py_del",{value:na,enumerable:!1});x(b,"py_clear",{value:oa,enumerable:!1});x(b,"py_get",{value:pa,enumerable:!1});x(b,"py_setdefault",{value:qa,enumerable:!1});x(b,"py_pop",{value:ra,enumerable:!1});x(b,"py_popitem",
{value:sa,enumerable:!1});x(b,"py_update",{value:ta,enumerable:!1});x(b,"py_values",{value:ua,enumerable:!1});x(b,"__getitem__",{value:va,enumerable:!1});x(b,"__setitem__",{value:wa,enumerable:!1});return b}var e={},J=function(a,b,c){if(""!=b){b=b.split(".");for(var d=b.length,q=0;q<b.length;q++){if(!a.hasOwnProperty(b[q])){d=q;break}a=a[b[q]]}for(q=d;q<b.length;q++)a[b[q]]={},a=a[b[q]]}for(var e in c)a[e]=c[e]};e.__nest__=J;var y=function(a){a.__inited__||(a.__all__.__init__(a.__all__),a.__inited__=
!0);return a.__all__};e.__init__=y;var k=function(a,b,c){return a&&(a.hasOwnProperty("__class__")||"string"==typeof a||a instanceof String)?(c&&Object.defineProperty(a,c,{value:function(){var c=[].slice.apply(arguments);return b.apply(null,[a].concat(c))},writable:!0,enumerable:!0,configurable:!0}),function(){var c=[].slice.apply(arguments);return b.apply(null,[a].concat(c))}):b};e.__get__=k;e.__getcm__=function(a,b,c){return a.hasOwnProperty("__class__")?function(){var c=[].slice.apply(arguments);
return b.apply(null,[a.__class__].concat(c))}:function(){var c=[].slice.apply(arguments);return b.apply(null,[a].concat(c))}};e.__getsm__=function(a,b,c){return b};var N={__name__:"type",__bases__:[],__new__:function(a,b,c,d){for(var q,e=function(){var a=[].slice.apply(arguments);return e.__new__(a)},X=c.length-1;0<=X;X--){var g=c[X],k;for(k in g)q=Object.getOwnPropertyDescriptor(g,k),Object.defineProperty(e,k,q)}e.__metaclass__=a;e.__name__=b.startsWith("py_")?b.slice(3):b;e.__bases__=c;for(k in d)q=
Object.getOwnPropertyDescriptor(d,k),Object.defineProperty(e,k,q);return e}};N.__metaclass__=N;e.py_metatype=N;var Q={__init__:function(a){},__metaclass__:N,__name__:"object",__bases__:[],__new__:function(a){var b=Object.create(this,{__class__:{value:this,enumerable:!0}});this.__init__.apply(null,[b].concat(a));return b}};e.object=Q;var C=function(a,b,c,d){void 0==d&&(d=b[0].__metaclass__);return d.__new__(d,a,b,c)};e.__class__=C;e.__pragma__=function(){};J(e,"org.transcrypt.__base__",{__all__:{__inited__:!1,
__init__:function(a){var b=C("__Envir__",[Q],{__module__:"org.transcrypt.__base__",get __init__(){return k(this,function(a){a.interpreter_name="python";a.transpiler_name="transcrypt";a.transpiler_version="3.6.67";a.target_subdir="__javascript__"})}}),c=b();a.__Envir__=b;a.__envir__=c;a.__name__="org.transcrypt.__base__"}}});J(e,"org.transcrypt.__standard__",{__all__:{__inited__:!1,__init__:function(a){var b=C("Exception",[Q],{__module__:"org.transcrypt.__standard__",get __init__(){return k(this,function(a){var b=
F();if(arguments.length){var c=arguments.length-1;if(arguments[c]&&arguments[c].hasOwnProperty("__kwargtrans__")){var f=arguments[c--],h;for(h in f)switch(h){case "self":a=f[h];break;default:b[h]=f[h]}delete b.__kwargtrans__}c=l([].slice.apply(arguments).slice(1,c+1))}else c=l();a.__args__=c;try{a.stack=b.error.stack}catch(Ha){a.stack="No stack trace available"}})},get __repr__(){return k(this,function(a){return A(a.__args__)?"{}{}".format(a.__class__.__name__,T(l(a.__args__))):"{}()".format(a.__class__.__name__)})},
get __str__(){return k(this,function(a){return 1<A(a.__args__)?E(l(a.__args__)):A(a.__args__)?E(a.__args__[0]):""})}}),c=C("IterableError",[b],{__module__:"org.transcrypt.__standard__",get __init__(){return k(this,function(a,c){b.__init__(a,"Can't iterate over non-iterable",D({error:c}))})}}),d=C("StopIteration",[b],{__module__:"org.transcrypt.__standard__",get __init__(){return k(this,function(a,c){b.__init__(a,"Iterator exhausted",D({error:c}))})}}),e=C("ValueError",[b],{__module__:"org.transcrypt.__standard__",
get __init__(){return k(this,function(a,c,f){b.__init__(a,c,D({error:f}))})}}),g=C("KeyError",[b],{__module__:"org.transcrypt.__standard__",get __init__(){return k(this,function(a,c,f){b.__init__(a,c,D({error:f}))})}}),L=C("AssertionError",[b],{__module__:"org.transcrypt.__standard__",get __init__(){return k(this,function(a,c,f){c?b.__init__(a,c,D({error:f})):b.__init__(a,D({error:f}))})}}),m=C("NotImplementedError",[b],{__module__:"org.transcrypt.__standard__",get __init__(){return k(this,function(a,
c,f){b.__init__(a,c,D({error:f}))})}}),ya=C("IndexError",[b],{__module__:"org.transcrypt.__standard__",get __init__(){return k(this,function(a,c,f){b.__init__(a,c,D({error:f}))})}}),xa=C("AttributeError",[b],{__module__:"org.transcrypt.__standard__",get __init__(){return k(this,function(a,c,f){b.__init__(a,c,D({error:f}))})}}),p=C("py_TypeError",[b],{__module__:"org.transcrypt.__standard__",get __init__(){return k(this,function(a,c,f){b.__init__(a,c,D({error:f}))})}}),W=C("Warning",[b],{__module__:"org.transcrypt.__standard__"}),
z=C("UserWarning",[W],{__module__:"org.transcrypt.__standard__"}),Z=C("DeprecationWarning",[W],{__module__:"org.transcrypt.__standard__"}),n=C("RuntimeWarning",[W],{__module__:"org.transcrypt.__standard__"}),u=function(a,b,c){if("undefined"==typeof b||null!=b&&b.hasOwnProperty("__kwargtrans__"))b=null;if("undefined"==typeof c||null!=c&&c.hasOwnProperty("__kwargtrans__"))c=!1;if(arguments.length){var f=arguments.length-1;if(arguments[f]&&arguments[f].hasOwnProperty("__kwargtrans__")){f=arguments[f--];
for(var h in f)switch(h){case "iterable":a=f[h];break;case "key":b=f[h];break;case "reverse":c=f[h]}}}b?a.sort(function(a,c){if(arguments.length){var f=arguments.length-1;if(arguments[f]&&arguments[f].hasOwnProperty("__kwargtrans__")){f=arguments[f--];for(var h in f)switch(h){case "a":a=f[h];break;case "b":c=f[h]}}}return b(a)>b(c)?1:-1}):a.sort();c&&a.reverse()},f=C("__Terminal__",[Q],{__module__:"org.transcrypt.__standard__",get __init__(){return k(this,function(a){a.buffer="";try{a.element=document.getElementById("__terminal__")}catch(ea){a.element=
null}a.element&&(a.element.style.overflowX="auto",a.element.style.boxSizing="border-box",a.element.style.padding="5px",a.element.innerHTML="_")})},get print(){return k(this,function(a){var b=" ";var c="\n";if(arguments.length){var f=arguments.length-1;if(arguments[f]&&arguments[f].hasOwnProperty("__kwargtrans__")){var h=arguments[f--],d;for(d in h)switch(d){case "self":a=h[d];break;case "sep":b=h[d];break;case "end":c=h[d]}}var e=l([].slice.apply(arguments).slice(1,f+1))}else e=l();a.buffer="{}{}{}".format(a.buffer,
b.join(function(){for(var a=[],b=e,c=0;c<A(b);c++)a.append(E(b[c]));return a}()),c).__getslice__(-4096,null,1);a.element?(a.element.innerHTML=a.buffer.py_replace("\n","<br>").py_replace(" ","&nbsp"),a.element.scrollTop=a.element.scrollHeight):console.log(b.join(function(){for(var a=[],b=e,c=0;c<A(b);c++)a.append(E(b[c]));return a}()))})},get input(){return k(this,function(a,b){if(arguments.length){var c=arguments.length-1;if(arguments[c]&&arguments[c].hasOwnProperty("__kwargtrans__")){c=arguments[c--];
for(var f in c)switch(f){case "self":a=c[f];break;case "question":b=c[f]}}}a.print("{}".format(b),D({end:""}));f=window.prompt("\n".join(a.buffer.py_split("\n").__getslice__(-16,null,1)));a.print(f);return f})}}),h=f();a.AssertionError=L;a.AttributeError=xa;a.DeprecationWarning=Z;a.Exception=b;a.IndexError=ya;a.IterableError=c;a.KeyError=g;a.NotImplementedError=m;a.RuntimeWarning=n;a.StopIteration=d;a.py_TypeError=p;a.UserWarning=z;a.ValueError=e;a.Warning=W;a.__Terminal__=f;a.__name__="org.transcrypt.__standard__";
a.__sort__=u;a.__terminal__=h;a.filter=function(a,b){null==a&&(a=M);for(var c=[],f=0;f<A(b);f++){var h=b[f];a(h)&&c.append(h)}return c};a.map=function(a,b){for(var c=[],f=0;f<A(b);f++)c.append(a(b[f]));return c};a.sorted=function(a,b,c){if("undefined"==typeof b||null!=b&&b.hasOwnProperty("__kwargtrans__"))b=null;if("undefined"==typeof c||null!=c&&c.hasOwnProperty("__kwargtrans__"))c=!1;if(arguments.length){var f=arguments.length-1;if(arguments[f]&&arguments[f].hasOwnProperty("__kwargtrans__"))for(h in f=
arguments[f--],f)switch(h){case "iterable":a=f[h];break;case "key":b=f[h];break;case "reverse":c=f[h]}}var h=S(a)==F?Y(a.py_keys()):Y(a);u(h,b,c);return h}}}});e.__call__=function(){var a=[].slice.apply(arguments);return"object"==typeof a[0]&&"__call__"in a[0]?a[0].__call__.apply(a[1],a.slice(2)):a[0].apply(a[1],a.slice(2))};J(e,"",y(e.org.transcrypt.__base__));N=e.__envir__;J(e,"",y(e.org.transcrypt.__standard__));var Ba=e.Exception,ja=e.IterableError,aa=e.StopIteration,V=e.ValueError,da=e.KeyError,
Ca=e.AssertionError,ka=e.py_TypeError,Da=e.__sort__,Ea=e.sorted;e.print=e.__terminal__.print;e.input=e.__terminal__.input;N.executor_name=N.transpiler_name;e.main={__file__:""};e.__except__=null;var D=function(a){a.__kwargtrans__=null;a.constructor=Object;return a};e.__kwargtrans__=D;e.__globals__=function(a){return U(a,F)?a:F(a)};e.__super__=function(a,b){for(var c=0;c<a.__bases__.length;c++){var d=a.__bases__[c];if(b in d)return d[b]}throw new Ba("Superclass method not found");};e.property=function(a,
b){b||(b=function(){});return{get:function(){return a(this)},set:function(a){b(this,a)},enumerable:!0}};var x=function(a,b,c){a.hasOwnProperty(b)||Object.defineProperty(a,b,c)};e.__setProperty__=x;e.assert=function(a,b){if(!a)throw Ca(b,Error());};e.__merge__=function(a,b){var c={},d;for(d in a)c[d]=a[d];for(d in b)c[d]=b[d];return c};e.dir=function(a){var b=[],c;for(c in a)b.push(c);b.sort();return b};e.setattr=function(a,b,c){a[b]=c};e.getattr=function(a,b){return a[b]};e.hasattr=function(a,b){try{return b in
a}catch(q){return!1}};e.delattr=function(a,b){delete a[b]};var p=function(a,b){return S(b)==F?b.hasOwnProperty(a):b.indexOf?-1<b.indexOf(a):b.hasOwnProperty(a)};e.__in__=p;var P=function(a){return a.startswith("__")&&a.endswith("__")||"constructor"==a||a.startswith("py_")};e.__specialattrib__=P;var A=function(a){if(void 0===a||null===a)return 0;if(a.__len__ instanceof Function)return a.__len__();if(void 0!==a.length)return a.length;var b=0,c;for(c in a)P(c)||b++;return b};e.len=A;e.__t__=d;var M=
function(a){return!!d(a)};M.__name__="bool";e.bool=M;var R=function(a){if("inf"==a)return Infinity;if("-inf"==a)return-Infinity;if(isNaN(parseFloat(a))){if(!1===a)return 0;if(!0===a)return 1;throw V("could not convert string to float: '"+E(a)+"'",Error());}return+a};R.__name__="float";e.float=R;var B=function(a){return R(a)|0};B.__name__="int";e.int=B;var S=function(a){var b=typeof a;if("object"==b)try{return a.__class__}catch(q){return b}else return"boolean"==b?M:"string"==b?E:"number"==b?0==a%1?
B:R:null};e.py_typeof=S;var U=function(a,b){function c(a){if(a==b)return!0;for(var d=0;d<a.__bases__.length;d++)if(c(a.__bases__[d],b))return!0;return!1}if(b instanceof Array){for(var d=0;d<b.length;d++)if(U(a,b[d]))return!0;return!1}try{return"__class__"in a?c(a.__class__):a instanceof b}catch(Fa){return a=S(a),a==b||a==M&&b==B}};e.isinstance=U;e.callable=function(a){return"object"==typeof a&&"__call__"in a?!0:"function"===typeof a};var T=function(a){try{return a.__repr__()}catch(r){try{return a.__str__()}catch(L){try{if(null==
a)return"None";if(a.constructor==Object){var b="{",c=!1,d;for(d in a)if(!P(d)){var e=d.isnumeric()?d:"'"+d+"'";c?b+=", ":c=!0;b+=e+": "+T(a[d])}return b+"}"}return"boolean"==typeof a?a.toString().capitalize():a.toString()}catch(Ga){return"<object of type: "+typeof a+">"}}}};e.repr=T;e.chr=function(a){return String.fromCharCode(a)};e.ord=function(a){return a.charCodeAt(0)};var H=Math.max;e.max=H;var O=Math.min;e.min=O;var fa=Math.abs;e.abs=fa;e.round=function(a,b){if(b){var c=Math.pow(10,b);a*=c}var d=
Math.round(a);.5==d-a&&d%2&&--d;b&&(d/=c);return d};w.prototype.__next__=function(){if(this.index<this.iterable.length)return this.iterable[this.index++];throw aa(Error());};n.prototype.next=function(){return this.index<this.iterable.py_keys.length?{value:this.index++,done:!1}:{value:void 0,done:!0}};var ha=function(a){a=a.slice();a.reverse();return a};e.py_reversed=ha;var ia=function(){for(var a=[].slice.call(arguments),b=0;b<a.length;b++)"string"==typeof a[b]?a[b]=a[b].split(""):Array.isArray(a[b])||
(a[b]=Array.from(a[b]));return(0==a.length?[]:a.reduce(function(a,b){return a.length<b.length?a:b})).map(function(b,c){return a.map(function(a){return a[c]})})};e.zip=ia;e.range=v;e.any=function(a){for(var b=0;b<a.length;b++)if(M(a[b]))return!0;return!1};e.all=function(a){for(var b=0;b<a.length;b++)if(!M(a[b]))return!1;return!0};e.sum=K;e.enumerate=function(a){return ia(v(A(a)),a)};e.copy=Y;e.deepcopy=ba;e.list=c;Array.prototype.__class__=c;c.__name__="list";Array.prototype.__iter__=function(){return new w(this)};
Array.prototype.__getslice__=function(a,b,d){0>a&&(a=this.length+a);null==b?b=this.length:0>b?b=this.length+b:b>this.length&&(b=this.length);for(var e=c([]);a<b;a+=d)e.push(this[a]);return e};Array.prototype.__setslice__=function(a,b,c,d){0>a&&(a=this.length+a);null==b?b=this.length:0>b&&(b=this.length+b);if(null==c)Array.prototype.splice.apply(this,[a,b-a].concat(d));else for(var e=0;a<b;a+=c)this[a]=d[e++]};Array.prototype.__repr__=function(){if(this.__class__==I&&!this.length)return"set()";for(var a=
this.__class__&&this.__class__!=c?this.__class__==l?"(":"{":"[",b=0;b<this.length;b++)b&&(a+=", "),a+=T(this[b]);this.__class__==l&&1==this.length&&(a+=",");return a+=this.__class__&&this.__class__!=c?this.__class__==l?")":"}":"]"};Array.prototype.__str__=Array.prototype.__repr__;Array.prototype.append=function(a){this.push(a)};Array.prototype.py_clear=function(){this.length=0};Array.prototype.extend=function(a){this.push.apply(this,a)};Array.prototype.insert=function(a,b){this.splice(a,0,b)};Array.prototype.remove=
function(a){a=this.indexOf(a);if(-1==a)throw V("list.remove(x): x not in list",Error());this.splice(a,1)};Array.prototype.index=function(a){return this.indexOf(a)};Array.prototype.py_pop=function(a){return void 0==a?this.pop():this.splice(a,1)[0]};Array.prototype.py_sort=function(){Da.apply(null,[this].concat([].slice.apply(arguments)))};Array.prototype.__add__=function(a){return c(this.concat(a))};Array.prototype.__mul__=function(a){for(var b=this,c=1;c<a;c++)b=b.concat(this);return b};Array.prototype.__rmul__=
Array.prototype.__mul__;e.tuple=l;l.__name__="tuple";e.set=I;I.__name__="set";Array.prototype.__bindexOf__=function(a){a+="";for(var b=0,c=this.length-1;b<=c;){var d=(b+c)/2|0,e=this[d]+"";if(e<a)b=d+1;else if(e>a)c=d-1;else return d}return-1};Array.prototype.add=function(a){-1==this.indexOf(a)&&this.push(a)};Array.prototype.discard=function(a){a=this.indexOf(a);-1!=a&&this.splice(a,1)};Array.prototype.isdisjoint=function(a){this.sort();for(var b=0;b<a.length;b++)if(-1!=this.__bindexOf__(a[b]))return!1;
return!0};Array.prototype.issuperset=function(a){this.sort();for(var b=0;b<a.length;b++)if(-1==this.__bindexOf__(a[b]))return!1;return!0};Array.prototype.issubset=function(a){return I(a.slice()).issuperset(this)};Array.prototype.union=function(a){for(var b=I(this.slice().sort()),c=0;c<a.length;c++)-1==b.__bindexOf__(a[c])&&b.push(a[c]);return b};Array.prototype.intersection=function(a){this.sort();for(var b=I(),c=0;c<a.length;c++)-1!=this.__bindexOf__(a[c])&&b.push(a[c]);return b};Array.prototype.difference=
function(a){a=I(a.slice().sort());for(var b=I(),c=0;c<this.length;c++)-1==a.__bindexOf__(this[c])&&b.push(this[c]);return b};Array.prototype.symmetric_difference=function(a){return this.union(a).difference(this.intersection(a))};Array.prototype.py_update=function(){var a=[].concat.apply(this.slice(),arguments).sort();this.py_clear();for(var b=0;b<a.length;b++)a[b]!=a[b-1]&&this.push(a[b])};Array.prototype.__eq__=function(a){if(this.length!=a.length)return!1;this.__class__==I&&(this.sort(),a.sort());
for(var b=0;b<this.length;b++)if(this[b]!=a[b])return!1;return!0};Array.prototype.__ne__=function(a){return!this.__eq__(a)};Array.prototype.__le__=function(a){return this.issubset(a)};Array.prototype.__ge__=function(a){return this.issuperset(a)};Array.prototype.__lt__=function(a){return this.issubset(a)&&!this.issuperset(a)};Array.prototype.__gt__=function(a){return this.issuperset(a)&&!this.issubset(a)};e.bytearray=ca;e.bytes=ca;Uint8Array.prototype.__add__=function(a){var b=new Uint8Array(this.length+
a.length);b.set(this);b.set(a,this.length);return b};Uint8Array.prototype.__mul__=function(a){for(var b=new Uint8Array(a*this.length),c=0;c<a;c++)b.set(this,c*this.length);return b};Uint8Array.prototype.__rmul__=Uint8Array.prototype.__mul__;e.str=E;String.prototype.__class__=E;E.__name__="str";String.prototype.__iter__=function(){new w(this)};String.prototype.__repr__=function(){return(-1==this.indexOf("'")?"'"+this+"'":'"'+this+'"').py_replace("\t","\\t").py_replace("\n","\\n")};String.prototype.__str__=
function(){return this};String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};String.prototype.endswith=function(a){return""==a||this.slice(-a.length)==a};String.prototype.find=function(a,b){return this.indexOf(a,b)};String.prototype.__getslice__=function(a,b,c){0>a&&(a=this.length+a);null==b?b=this.length:0>b&&(b=this.length+b);var d="";if(1==c)d=this.substring(a,b);else for(;a<b;a+=c)d=d.concat(this.charAt(a));return d};x(String.prototype,"format",{get:function(){return k(this,
function(a){var b=l([].slice.apply(arguments).slice(1)),c=0;return a.replace(/\{(\w*)\}/g,function(a,d){""==d&&(d=c++);if(d==+d)return void 0==b[d]?a:E(b[d]);for(var e=0;e<b.length;e++)if("object"==typeof b[e]&&void 0!=b[e][d])return E(b[e][d]);return a})})},enumerable:!0});String.prototype.isalnum=function(){return/^[0-9a-zA-Z]{1,}$/.test(this)};String.prototype.isalpha=function(){return/^[a-zA-Z]{1,}$/.test(this)};String.prototype.isdecimal=function(){return/^[0-9]{1,}$/.test(this)};String.prototype.isdigit=
function(){return this.isdecimal()};String.prototype.islower=function(){return/^[a-z]{1,}$/.test(this)};String.prototype.isupper=function(){return/^[A-Z]{1,}$/.test(this)};String.prototype.isspace=function(){return/^[\s]{1,}$/.test(this)};String.prototype.isnumeric=function(){return!isNaN(parseFloat(this))&&isFinite(this)};String.prototype.join=function(a){return a.join(this)};String.prototype.lower=function(){return this.toLowerCase()};String.prototype.py_replace=function(a,b,c){return this.split(a,
c).join(b)};String.prototype.lstrip=function(){return this.replace(/^\s*/g,"")};String.prototype.rfind=function(a,b){return this.lastIndexOf(a,b)};String.prototype.rsplit=function(a,b){if(void 0==a||null==a){a=/\s+/;var c=this.strip()}else c=this;if(void 0==b||-1==b)return c.split(a);c=c.split(a);return b<c.length?(b=c.length-b,[c.slice(0,b).join(a)].concat(c.slice(b))):c};String.prototype.rstrip=function(){return this.replace(/\s*$/g,"")};String.prototype.py_split=function(a,b){if(void 0==a||null==
a){a=/\s+/;var c=this.strip()}else c=this;if(void 0==b||-1==b)return c.split(a);c=c.split(a);return b<c.length?c.slice(0,b).concat([c.slice(b).join(a)]):c};String.prototype.startswith=function(a){return 0==this.indexOf(a)};String.prototype.strip=function(){return this.trim()};String.prototype.upper=function(){return this.toUpperCase()};String.prototype.__mul__=function(a){for(var b=this,c=1;c<a;c++)b+=this;return b};String.prototype.__rmul__=String.prototype.__mul__;e.dict=F;F.__name__="dict";x(Function.prototype,
"__setdoc__",{value:function(a){this.__doc__=a;return this},enumerable:!1});e.__jsmod__=function(a,b){return"object"==typeof a&&"__mod__"in a?a.__mod__(b):"object"==typeof b&&"__rpow__"in b?b.__rmod__(a):a%b};var G=function(a,b){return"object"==typeof a&&"__mod__"in a?a.__mod__(b):"object"==typeof b&&"__rpow__"in b?b.__rmod__(a):(a%b+b)%b};e.mod=G;e.pow=function(a,b){return"object"==typeof a&&"__pow__"in a?a.__pow__(b):"object"==typeof b&&"__rpow__"in b?b.__rpow__(a):Math.pow(a,b)};e.__neg__=function(a){return"object"==
typeof a&&"__neg__"in a?a.__neg__():-a};e.__matmul__=function(a,b){return a.__matmul__(b)};e.__mul__=function(a,b){return"object"==typeof a&&"__mul__"in a?a.__mul__(b):"object"==typeof b&&"__rmul__"in b?b.__rmul__(a):"string"==typeof a?a.__mul__(b):"string"==typeof b?b.__rmul__(a):a*b};e.__truediv__=function(a,b){return"object"==typeof a&&"__truediv__"in a?a.__truediv__(b):"object"==typeof b&&"__rtruediv__"in b?b.__rtruediv__(a):"object"==typeof a&&"__div__"in a?a.__div__(b):"object"==typeof b&&"__rdiv__"in
b?b.__rdiv__(a):a/b};e.__floordiv__=function(a,b){return"object"==typeof a&&"__floordiv__"in a?a.__floordiv__(b):"object"==typeof b&&"__rfloordiv__"in b?b.__rfloordiv__(a):"object"==typeof a&&"__div__"in a?a.__div__(b):"object"==typeof b&&"__rdiv__"in b?b.__rdiv__(a):Math.floor(a/b)};e.__add__=function(a,b){return"object"==typeof a&&"__add__"in a?a.__add__(b):"object"==typeof b&&"__radd__"in b?b.__radd__(a):a+b};e.__sub__=function(a,b){return"object"==typeof a&&"__sub__"in a?a.__sub__(b):"object"==
typeof b&&"__rsub__"in b?b.__rsub__(a):a-b};e.__lshift__=function(a,b){return"object"==typeof a&&"__lshift__"in a?a.__lshift__(b):"object"==typeof b&&"__rlshift__"in b?b.__rlshift__(a):a<<b};e.__rshift__=function(a,b){return"object"==typeof a&&"__rshift__"in a?a.__rshift__(b):"object"==typeof b&&"__rrshift__"in b?b.__rrshift__(a):a>>b};e.__or__=function(a,b){return"object"==typeof a&&"__or__"in a?a.__or__(b):"object"==typeof b&&"__ror__"in b?b.__ror__(a):a|b};e.__xor__=function(a,b){return"object"==
typeof a&&"__xor__"in a?a.__xor__(b):"object"==typeof b&&"__rxor__"in b?b.__rxor__(a):a^b};e.__and__=function(a,b){return"object"==typeof a&&"__and__"in a?a.__and__(b):"object"==typeof b&&"__rand__"in b?b.__rand__(a):a&b};e.__eq__=function(a,b){return"object"==typeof a&&"__eq__"in a?a.__eq__(b):a==b};e.__ne__=function(a,b){return"object"==typeof a&&"__ne__"in a?a.__ne__(b):a!=b};e.__lt__=function(a,b){return"object"==typeof a&&"__lt__"in a?a.__lt__(b):a<b};e.__le__=function(a,b){return"object"==typeof a&&
"__le__"in a?a.__le__(b):a<=b};e.__gt__=function(a,b){return"object"==typeof a&&"__gt__"in a?a.__gt__(b):a>b};e.__ge__=function(a,b){return"object"==typeof a&&"__ge__"in a?a.__ge__(b):a>=b};e.__imatmul__=function(a,b){return"__imatmul__"in a?a.__imatmul__(b):a.__matmul__(b)};e.ipow=function(a,b){return"object"==typeof a&&"__pow__"in a?a.__ipow__(b):"object"==typeof a&&"__ipow__"in a?a.__pow__(b):"object"==typeof b&&"__rpow__"in b?b.__rpow__(a):Math.pow(a,b)};e.ijsmod__=function(a,b){return"object"==
typeof a&&"__imod__"in a?a.__ismod__(b):"object"==typeof a&&"__mod__"in a?a.__mod__(b):"object"==typeof b&&"__rpow__"in b?b.__rmod__(a):a%b};e.imod=function(a,b){return"object"==typeof a&&"__imod__"in a?a.__imod__(b):"object"==typeof a&&"__mod__"in a?a.__mod__(b):"object"==typeof b&&"__rpow__"in b?b.__rmod__(a):(a%b+b)%b};e.__imul__=function(a,b){return"object"==typeof a&&"__imul__"in a?a.__imul__(b):"object"==typeof a&&"__mul__"in a?a.__mul__(b):"object"==typeof b&&"__rmul__"in b?b.__rmul__(a):"string"==
typeof a?a.__mul__(b):"string"==typeof b?b.__rmul__(a):a*b};e.__idiv__=function(a,b){return"object"==typeof a&&"__idiv__"in a?a.__idiv__(b):"object"==typeof a&&"__div__"in a?a.__div__(b):"object"==typeof b&&"__rdiv__"in b?b.__rdiv__(a):a/b};e.__iadd__=function(a,b){return"object"==typeof a&&"__iadd__"in a?a.__iadd__(b):"object"==typeof a&&"__add__"in a?a.__add__(b):"object"==typeof b&&"__radd__"in b?b.__radd__(a):a+b};e.__isub__=function(a,b){return"object"==typeof a&&"__isub__"in a?a.__isub__(b):
"object"==typeof a&&"__sub__"in a?a.__sub__(b):"object"==typeof b&&"__rsub__"in b?b.__rsub__(a):a-b};e.__ilshift__=function(a,b){return"object"==typeof a&&"__ilshift__"in a?a.__ilshift__(b):"object"==typeof a&&"__lshift__"in a?a.__lshift__(b):"object"==typeof b&&"__rlshift__"in b?b.__rlshift__(a):a<<b};e.__irshift__=function(a,b){return"object"==typeof a&&"__irshift__"in a?a.__irshift__(b):"object"==typeof a&&"__rshift__"in a?a.__rshift__(b):"object"==typeof b&&"__rrshift__"in b?b.__rrshift__(a):
a>>b};e.__ior__=function(a,b){return"object"==typeof a&&"__ior__"in a?a.__ior__(b):"object"==typeof a&&"__or__"in a?a.__or__(b):"object"==typeof b&&"__ror__"in b?b.__ror__(a):a|b};e.__ixor__=function(a,b){return"object"==typeof a&&"__ixor__"in a?a.__ixor__(b):"object"==typeof a&&"__xor__"in a?a.__xor__(b):"object"==typeof b&&"__rxor__"in b?b.__rxor__(a):a^b};e.__iand__=function(a,b){return"object"==typeof a&&"__iand__"in a?a.__iand__(b):"object"==typeof a&&"__and__"in a?a.__and__(b):"object"==typeof b&&
"__rand__"in b?b.__rand__(a):a&b};e.__getitem__=function(a,b){return"object"==typeof a&&"__getitem__"in a?a.__getitem__(b):a[b]};e.__setitem__=function(a,b,c){"object"==typeof a&&"__setitem__"in a?a.__setitem__(b,c):a[b]=c};e.__getslice__=function(a,b,c,d){return"object"==typeof a&&"__getitem__"in a?a.__getitem__([b,c,d]):a.__getslice__(b,c,d)};e.__setslice__=function(a,b,c,d,e){"object"==typeof a&&"__setitem__"in a?a.__setitem__([b,c,d],e):a.__setslice__(b,c,d,e)};J(e,"combat",{__all__:{__inited__:!1,
__init__:function(a){var b=y(e.random).random,d=y(e.unit).make_unit,g=y(e.unit).Stack,k=function(a,d,e){var g,k=F([[a.py_name,c([0,0])],[d.py_name,c([0,0])]]),q=function(a,f){var d=Ea(c([a,f]),D({key:function(a){return a.speed},reverse:!0}));return a.speed==f.speed&&.5>b()?ha(d):d},L=function(a,f){if(arguments.length){var d=arguments.length-1;if(arguments[d]&&arguments[d].hasOwnProperty("__kwargtrans__"))for(h in d=arguments[d--],d)switch(h){case "current":a=d[h];break;case "other":f=d[h]}}if("Azure Dragon"==
f.py_name&&!a.is_nonliving()&&.1>b())return l([f,a]);var h=!1;if(!a.is_stunned()){h=f.is_stunned()&&!f.stunned_from_retaliation;d=0<f.blinded;var e=0<f.paralyzed,g=c([]);f.petrified&&g.append(.5);a.attack_melee(f,D({dmg_reductions:g,melee_penalty:a.melee_penalty()}));!f.is_alive()||a.no_retaliation()||f.is_stunned()||(g=c([]),e?g.append(.75):d&&g.append(.5),f.attack_melee(a,D({dmg_reductions:g,melee_penalty:f.melee_penalty(),retaliation:!0})));a.is_alive()&&a.strikes_twice()&&f.is_alive()&&!a.is_stunned()&&
a.attack_melee(f)}a.advance_statuses();p(f.py_name,c(["Wight","Wraith","Troll"]))&&f.is_alive()&&f.regenerate();h&&!f.is_stunned()&&f.is_alive()&&a.is_alive()&&(a.speed<f.speed||a.speed==f.speed&&.5>b())&&L(f,a);return l([f,a])},z=function(a,b,f){f=f?a.range_penalty():!1;a.attack_range(b,f);a.shoots_twice()&&0<a.shots&&a.attack_range(b,f);p(b.py_name,c(["Wight","Wraith","Troll"]))&&b.is_alive()&&b.regenerate();return l([b,a])},r=function(a,b){for(;a.is_alive()&&b.is_alive();)b=L(a,b),a=b[0],b=b[1];
return l([a,b])},m=function(a,c){var f=n-1;var d=G(f,a.speed);0==d&&(d=a.speed);var h=10<f-d;d=!1;a.speed<c.speed?f=Math.floor(f/a.speed)+(0<G(f,a.speed)):a.speed>c.speed?(f=Math.floor(f/a.speed)-(0==G(f,a.speed)),d=!0):f=.5>b()?Math.floor(f/a.speed)+(0<G(f,a.speed)):Math.floor(f/a.speed)-(0==G(f,a.speed));d=H(0,f-h-d);f-=d;for(h=0;h<f;h++)z(c,a,!0);for(h=0;h<d;h++)z(c,a,!1);a=l([a,c]);return r(a[0],a[1])},n=14;a.is_big()&&n--;d.is_big()&&n--;for(var f=0;f<e;f++){var h=q(a,d);var t=h[0];h=h[1];if(t.is_shooter()||
h.is_shooter())if(t.is_shooter()&&h.is_shooter()){for(g=!0;t.is_alive()&&(0<t.shots&&0<h.shots||!g);)h=z(t,h,!0),t=h[0],h=h[1],g=!g;t.is_alive()&&(0==t.shots&&0==h.shots?(h=q(t,h),t=h[0],h=h[1],h=r(t,h)):(g=0<t.shots?t:h,t=0==t.shots?t:h,h=m(t,g)),t=h[0],h=h[1])}else g=t.is_shooter()?t:h,t=t.is_shooter()?h:t,h=m(t,g),t=h[0],h=h[1];else h=r(t,h),t=h[0],h=h[1];t=t.is_alive()?t:h;k[t.py_name][0]++;k[t.py_name][1]+=t.count;a.reset_state();d.reset_state()}a=c([a.py_name,d.py_name]);for(d=0;d<A(a);d++)e=
a[d],k[e][0]&&(k[e][1]/=R(k[e][0]));return k};a.Stack=g;a.__name__="combat";a.fight=k;a.find_balance=function(a,b,c,e){var q;if(a==b)return e?l([e,e]):l([1,1]);var m=function(a){return.95*Math.floor(c/2)<a[z.py_name][0]&&a[z.py_name][0]<1.05*Math.floor(c/2)};a=d(a);b=d(b);e=e||10*b.ai_value;var r=B(R(e)/b.ai_value*a.ai_value);var z=g(a,e);e=g(b,r);b=k(z,e,c);if(m(b))return l([z.count,e.count]);r=b[z.py_name][0]<b[e.py_name][0];var L=(r?-1:1)*H(B(e.count/10),1);for(q=!1;!q;){var p=e.count;e.count+=
L;e.cap+=L;b=k(z,e,c);a=b[z.py_name][0]<b[e.py_name][0];(q=a!=r)||(r=a)}if(m(b))return l([z.count,e.count]);a=e.count;r=O(p,a);for(p=H(p,a);;){q=r+Math.floor((p-r)/2);e.count=q;e.cap=q;b=k(z,e,c);if(m(b)||1>=fa(p-r))return l([z.count,H(e.count,1)]);(a=b[z.py_name][0]<b[e.py_name][0])?p=q-1:r=q+1}};a.make_unit=d;a.random=b}}});J(e,"crtraits",{__all__:{__inited__:!1,__init__:function(a){var b=new I([l(["Angel","Arch Devil"]),l(["Angel","Devil"]),l(["Archangel","Arch Devil"]),l(["Archangel","Devil"]),
l(["Arch Devil","Angel"]),l(["Arch Devil","Archangel"]),l(["Black Dragon","Giant"]),l(["Black Dragon","Titan"]),l(["Devil","Angel"]),l(["Devil","Archangel"]),l(["Genie","Efreet"]),l(["Genie","Efreet Sultan"]),l(["Efreet","Genie"]),l(["Efreet","Master Genie"]),l(["Efreet Sultan","Genie"]),l(["Efreet Sultan","Master Genie"]),l(["Titan","Black Dragon"]),l(["Master Genie","Efreet"]),l(["Master Genie","Efreet Sultan"])]),d=new I([l(["Storm Elemental","Magma Elemental"]),l(["Storm Elemental","Earth Elemental"]),
l(["Energy Elemental","Ice Elemental"]),l(["Energy Elemental","Water Elemental"]),l(["Ice Elemental","Energy Elemental"]),l(["Ice Elemental","Fire Elemental"]),l(["Magma Elemental","Storm Elemental"]),l(["Magma Elemental","Air Elemental"]),l(["Fire Elemental","Ice Elemental"]),l(["Fire Elemental","Water Elemental"]),l(["Air Elemental","Magma Elemental"]),l(["Air Elemental","Earth Elemental"]),l(["Water Elemental","Energy Elemental"]),l(["Water Elemental","Fire Elemental"]),l(["Earth Elemental","Storm Elemental"]),
l(["Earth Elemental","Air Elemental"])]),e=c("Singular;AI Value;Hit Points;Speed;Attack;Defense;MinDmg;MaxDmg;Shots;Attributes".split(";")),g=F({Pikeman:c([80,10,4,4,5,1,3,0,c(["cusNO_JOUSTING"])]),Halberdier:c([115,10,5,6,5,2,3,0,c(["cusNO_JOUSTING"])]),Archer:c([126,10,4,6,3,2,3,12,c(["SHOOTING_ARMY"])]),Marksman:c([184,10,6,6,3,2,3,24,c(["const_two_attacks","SHOOTING_ARMY"])]),Griffin:c([351,25,6,8,8,3,6,0,c(["DOUBLE_WIDE","FLYING_ARMY"])]),"Royal Griffin":c([448,25,9,9,9,3,6,0,c(["DOUBLE_WIDE",
"FLYING_ARMY"])]),Swordsman:c([445,35,5,10,12,6,9,0,c([])]),Crusader:c([588,35,6,12,12,7,10,0,c(["const_two_attacks"])]),Monk:c([485,30,5,12,7,10,12,12,c(["SHOOTING_ARMY"])]),Zealot:c([750,30,7,12,10,10,12,24,c(["SHOOTING_ARMY","const_no_melee_penalty"])]),Cavalier:c([1946,100,7,15,15,15,25,0,c(["DOUBLE_WIDE","const_jousting"])]),Champion:c([2100,100,9,16,16,20,25,0,c(["DOUBLE_WIDE","const_jousting"])]),Angel:c([5019,200,12,20,20,50,50,0,c(["FLYING_ARMY","const_raises_morale","KING_2"])]),Archangel:c([8776,
250,18,30,30,50,50,1,c(["DOUBLE_WIDE","FLYING_ARMY","const_raises_morale","KING_2"])]),Centaur:c([100,8,6,5,3,2,3,0,c(["DOUBLE_WIDE"])]),"Centaur Captain":c([138,10,8,6,3,2,3,0,c(["DOUBLE_WIDE"])]),Dwarf:c([138,20,3,6,7,2,4,0,c([])]),"Battle Dwarf":c([209,20,5,7,7,2,4,0,c([])]),"Wood Elf":c([234,15,6,9,5,3,5,24,c(["SHOOTING_ARMY"])]),"Grand Elf":c([331,15,7,9,5,3,5,24,c(["SHOOTING_ARMY","const_two_attacks"])]),Pegasus:c([518,30,8,9,8,5,9,0,c(["DOUBLE_WIDE","FLYING_ARMY"])]),"Silver Pegasus":c([532,
30,12,9,10,5,9,0,c(["DOUBLE_WIDE","FLYING_ARMY"])]),"Dendroid Guard":c([517,55,3,9,12,10,14,0,c([])]),"Dendroid Soldier":c([803,65,4,9,12,10,14,0,c([])]),Unicorn:c([1806,90,7,15,14,18,22,0,c(["DOUBLE_WIDE"])]),"War Unicorn":c([2030,110,9,15,14,18,22,0,c(["DOUBLE_WIDE"])]),"Green Dragon":c([4872,180,10,18,18,40,50,0,c(["DOUBLE_WIDE","FLYING_ARMY","KING_1"])]),"Gold Dragon":c([8613,250,16,27,27,40,50,0,c(["DOUBLE_WIDE","FLYING_ARMY","KING_1"])]),Gremlin:c([44,4,4,3,3,1,2,0,c([])]),"Master Gremlin":c([66,
4,5,4,4,1,2,8,c(["SHOOTING_ARMY"])]),"Stone Gargoyle":c([165,16,6,6,6,2,3,0,c(["FLYING_ARMY","cusGOLEM"])]),"Obsidian Gargoyle":c([201,16,9,7,7,2,3,0,c(["FLYING_ARMY","cusGOLEM"])]),"Stone Golem":c([250,30,3,7,10,4,5,0,c(["cusGOLEM"])]),"Iron Golem":c([412,35,5,9,10,4,5,0,c(["cusGOLEM"])]),Mage:c([570,25,5,11,8,7,9,24,c(["SHOOTING_ARMY","const_no_melee_penalty"])]),"Arch Mage":c([680,30,7,12,9,7,9,24,c(["SHOOTING_ARMY","const_no_melee_penalty","const_no_wall_penalty"])]),Genie:c([884,40,7,12,12,13,
16,0,c(["FLYING_ARMY"])]),"Master Genie":c([942,40,11,12,12,13,16,3,c(["FLYING_ARMY"])]),Naga:c([2016,110,5,16,13,20,20,0,c(["DOUBLE_WIDE","const_free_attack"])]),"Naga Queen":c([2840,110,7,16,13,30,30,0,c(["DOUBLE_WIDE","const_free_attack"])]),Giant:c([3718,150,7,19,16,40,60,0,c(["KING_3"])]),Titan:c([7500,300,11,24,24,40,60,24,c(["SHOOTING_ARMY","const_no_melee_penalty","KING_3"])]),Imp:c([50,4,5,2,3,1,2,0,c([])]),Familiar:c([60,4,7,4,4,1,2,0,c([])]),Gog:c([159,13,4,6,4,2,4,12,c(["SHOOTING_ARMY"])]),
Magog:c([240,13,6,7,4,2,4,24,c(["SHOOTING_ARMY"])]),"Hell Hound":c([357,25,7,10,6,2,7,0,c(["DOUBLE_WIDE","FLYING_ARMY"])]),Cerberus:c([392,25,8,10,8,2,7,0,c(["DOUBLE_WIDE","FLYING_ARMY","const_free_attack"])]),Demon:c([445,35,5,10,10,7,9,0,c([])]),"Horned Demon":c([480,40,6,10,10,7,9,0,c([])]),"Pit Fiend":c([765,45,6,13,13,13,17,0,c([])]),"Pit Lord":c([1224,45,7,13,13,13,17,1,c([])]),Efreet:c([1670,90,9,16,12,16,24,0,c([])]),"Efreet Sultan":c([1848,90,13,16,14,16,24,0,c([])]),Devil:c([5101,160,11,
19,21,30,40,0,c(["FLYING_ARMY","KING_2","const_free_attack"])]),"Arch Devil":c([7115,200,17,26,28,30,40,0,c(["FLYING_ARMY","KING_2","const_free_attack"])]),Skeleton:c([60,6,4,5,4,1,3,0,c(["IS_UNDEAD"])]),"Skeleton Warrior":c([85,6,5,6,6,1,3,0,c(["IS_UNDEAD"])]),"Walking Dead":c([98,15,3,5,5,2,3,0,c(["IS_UNDEAD"])]),Zombie:c([128,20,4,5,5,2,3,0,c(["IS_UNDEAD"])]),Wight:c([252,18,5,7,7,3,5,0,c(["FLYING_ARMY","IS_UNDEAD"])]),Wraith:c([315,18,7,7,7,3,5,0,c(["FLYING_ARMY","IS_UNDEAD"])]),Vampire:c([555,
30,6,10,9,5,8,0,c(["FLYING_ARMY","IS_UNDEAD","const_free_attack"])]),"Vampire Lord":c([783,40,9,10,10,5,8,0,c(["FLYING_ARMY","IS_UNDEAD","const_free_attack"])]),Lich:c([848,30,6,13,10,11,13,12,c(["SHOOTING_ARMY","IS_UNDEAD"])]),"Power Lich":c([1079,40,7,13,10,11,15,24,c(["SHOOTING_ARMY","IS_UNDEAD"])]),"Black Knight":c([2087,120,7,16,16,15,30,0,c(["DOUBLE_WIDE","IS_UNDEAD"])]),"Dread Knight":c([2382,120,9,18,18,15,30,0,c(["DOUBLE_WIDE","IS_UNDEAD"])]),"Bone Dragon":c([3388,150,9,17,15,25,50,0,c(["DOUBLE_WIDE",
"IS_UNDEAD","const_lowers_morale","FLYING_ARMY","KING_1"])]),"Ghost Dragon":c([4696,200,14,19,17,25,50,0,c(["DOUBLE_WIDE","IS_UNDEAD","const_lowers_morale","FLYING_ARMY","KING_1"])]),Troglodyte:c([59,5,4,4,3,1,3,0,c([])]),"Infernal Troglodyte":c([84,6,5,5,4,1,3,0,c([])]),Harpy:c([154,14,6,6,5,1,4,0,c(["FLYING_ARMY"])]),"Harpy Hag":c([238,14,9,6,6,1,4,0,c(["FLYING_ARMY","const_free_attack"])]),Beholder:c([336,22,5,9,7,3,5,12,c(["SHOOTING_ARMY","const_no_melee_penalty"])]),"Evil Eye":c([367,22,7,10,
8,3,5,24,c(["SHOOTING_ARMY","const_no_melee_penalty"])]),Medusa:c([517,25,5,9,9,6,8,4,c(["DOUBLE_WIDE","SHOOTING_ARMY","const_no_melee_penalty"])]),"Medusa Queen":c([577,30,6,10,10,6,8,8,c(["DOUBLE_WIDE","SHOOTING_ARMY","const_no_melee_penalty"])]),Minotaur:c([835,50,6,14,12,12,20,0,c([])]),"Minotaur King":c([1068,50,8,15,15,12,20,0,c([])]),Manticore:c([1547,80,7,15,13,14,20,0,c(["DOUBLE_WIDE","FLYING_ARMY"])]),Scorpicore:c([1589,80,11,16,14,14,20,0,c(["DOUBLE_WIDE","FLYING_ARMY"])]),"Red Dragon":c([4702,
180,11,19,19,40,50,0,c(["DOUBLE_WIDE","FLYING_ARMY","KING_1"])]),"Black Dragon":c([8721,300,15,25,25,40,50,0,c(["DOUBLE_WIDE","FLYING_ARMY","KING_1"])]),Goblin:c([60,5,5,4,2,1,2,0,c([])]),Hobgoblin:c([78,5,7,5,3,1,2,0,c([])]),"Wolf Rider":c([130,10,6,7,5,2,4,0,c(["DOUBLE_WIDE"])]),"Wolf Raider":c([203,10,8,8,5,3,4,0,c(["DOUBLE_WIDE","const_two_attacks"])]),Orc:c([192,15,4,8,4,2,5,12,c(["SHOOTING_ARMY"])]),"Orc Chieftain":c([240,20,5,8,4,2,5,24,c(["SHOOTING_ARMY"])]),Ogre:c([416,40,4,13,7,6,12,0,c([])]),
"Ogre Mage":c([672,60,5,13,7,6,12,3,c([])]),Roc:c([1027,60,7,13,11,11,15,0,c(["FLYING_ARMY","DOUBLE_WIDE"])]),Thunderbird:c([1106,60,11,13,11,11,15,0,c(["FLYING_ARMY","DOUBLE_WIDE"])]),Cyclops:c([1266,70,6,15,12,16,20,16,c(["SHOOTING_ARMY","CATAPULT"])]),"Cyclops King":c([1443,70,8,17,13,16,20,24,c(["SHOOTING_ARMY","CATAPULT"])]),Behemoth:c([3162,160,6,17,17,30,50,0,c(["DOUBLE_WIDE","KING_1"])]),"Ancient Behemoth":c([6168,300,9,19,19,30,50,0,c(["DOUBLE_WIDE","KING_1"])]),Gnoll:c([56,6,4,3,5,2,3,0,
c([])]),"Gnoll Marauder":c([90,6,5,4,6,2,3,0,c([])]),Lizardman:c([126,14,4,5,6,2,3,12,c(["SHOOTING_ARMY"])]),"Lizard Warrior":c([156,15,5,6,8,2,5,24,c(["SHOOTING_ARMY"])]),"Serpent Fly":c([256,20,9,7,9,2,5,0,c(["FLYING_ARMY"])]),"Dragon Fly":c([256,20,13,8,10,2,5,0,c(["FLYING_ARMY"])]),Basilisk:c([552,35,5,11,11,6,10,0,c(["DOUBLE_WIDE"])]),"Greater Basilisk":c([714,40,7,12,12,6,10,0,c(["DOUBLE_WIDE"])]),Gorgon:c([890,70,5,10,14,12,16,0,c(["DOUBLE_WIDE"])]),"Mighty Gorgon":c([1028,70,6,11,16,12,16,
0,c(["DOUBLE_WIDE"])]),Wyvern:c([1350,70,7,14,14,14,18,0,c(["DOUBLE_WIDE","FLYING_ARMY"])]),"Wyvern Monarch":c([1518,70,11,14,14,18,22,0,c(["DOUBLE_WIDE","FLYING_ARMY"])]),Hydra:c([4120,175,5,16,18,25,45,0,c(["DOUBLE_WIDE","KING_1","const_free_attack"])]),"Chaos Hydra":c([5931,250,7,18,20,25,45,0,c(["DOUBLE_WIDE","KING_1","const_free_attack"])]),Pixie:c([55,3,7,2,2,1,2,0,c(["FLYING_ARMY"])]),Sprite:c([95,3,9,2,2,1,3,0,c(["FLYING_ARMY","const_free_attack"])]),"Air Elemental":c([356,25,7,9,9,2,8,0,
c(["cusELEMENTAL"])]),"Storm Elemental":c([486,25,8,9,9,2,8,24,c(["IMMUNE_TO_MIND_SPELLS","SHOOTING_ARMY","cusELEMENTAL"])]),"Water Elemental":c([315,30,5,8,10,3,7,0,c(["cusELEMENTAL"])]),"Ice Elemental":c([380,30,6,8,10,3,7,24,c(["IMMUNE_TO_MIND_SPELLS","SHOOTING_ARMY","cusELEMENTAL"])]),"Fire Elemental":c([345,35,6,10,8,4,6,0,c(["cusELEMENTAL"])]),"Energy Elemental":c([470,35,8,12,8,4,6,0,c(["IMMUNE_TO_MIND_SPELLS","IMMUNE_TO_FIRE_SPELLS","FLYING_ARMY","cusELEMENTAL"])]),"Earth Elemental":c([330,
40,4,10,10,4,8,0,c(["cusELEMENTAL"])]),"Magma Elemental":c([490,40,6,11,11,6,10,0,c(["IMMUNE_TO_MIND_SPELLS","cusELEMENTAL"])]),"Psychic Elemental":c([1669,75,7,15,13,10,20,0,c(["IMMUNE_TO_MIND_SPELLS","DOUBLE_WIDE","const_free_attack","MULTI_HEADED","cusELEMENTAL"])]),"Magic Elemental":c([2012,80,9,15,13,15,25,0,c(["IMMUNE_TO_MIND_SPELLS","DOUBLE_WIDE","const_free_attack","MULTI_HEADED","cusELEMENTAL"])]),Firebird:c([4547,150,15,18,18,30,40,0,c(["IMMUNE_TO_FIRE_SPELLS","DOUBLE_WIDE","FLYING_ARMY",
"KING_1","HAS_EXTENDED_ATTACK"])]),Phoenix:c([6721,200,21,21,18,30,40,0,c(["IMMUNE_TO_FIRE_SPELLS","DOUBLE_WIDE","FLYING_ARMY","KING_1","HAS_EXTENDED_ATTACK"])]),Peasant:c([15,1,3,1,1,1,1,0,c([])]),Halfling:c([75,4,5,4,2,1,3,24,c(["SHOOTING_ARMY"])]),Rogue:c([135,10,6,8,3,2,4,0,c([])]),Boar:c([145,15,6,6,5,2,3,0,c([])]),Mummy:c([270,30,5,7,7,3,5,0,c(["IS_UNDEAD"])]),Nomad:c([345,30,7,9,8,2,6,0,c([])]),Sharpshooter:c([585,15,9,12,10,8,10,32,c(["SHOOTING_ARMY"])]),Troll:c([1024,40,7,14,7,10,15,0,c([])]),
"Gold Golem":c([600,50,5,11,12,8,10,0,c(["cusGOLEM"])]),"Diamond Golem":c([775,60,5,13,12,10,14,0,c(["cusGOLEM"])]),Enchanter:c([1210,30,9,17,12,14,14,32,c(["SHOOTING_ARMY","const_no_melee_penalty"])]),"Faerie Dragon":c([19580,500,15,20,20,20,30,0,c(["DOUBLE_WIDE","FLYING_ARMY","KING_1"])]),"Rust Dragon":c([26433,750,17,30,30,50,50,0,c(["DOUBLE_WIDE","FLYING_ARMY","KING_1"])]),"Crystal Dragon":c([39338,800,16,40,40,60,75,0,c(["DOUBLE_WIDE","FLYING_ARMY","KING_1"])]),"Azure Dragon":c([78845,1E3,19,
50,50,70,80,0,c(["DOUBLE_WIDE","FLYING_ARMY","KING_1"])])});a.__name__="crtraits";a.columns=e;a.data=g;a.elementals=d;a.haters=b}}});J(e,"math",{__all__:{__inited__:!1,__init__:function(a){var b=Math.PI,c=Math.E,d=Math.exp,e=Math.pow,g=Math.sqrt,k=Math.sin,l=Math.cos,m=Math.tan,p=Math.asin,n=Math.acos,u=Math.atan,z=Math.atan2,Z=Math.hypot,y=Math.sinh,v=Math.cosh,f=Math.tanh,h=Math.asinh,t=Math.acosh,ea=Math.atanh,A=Math.floor,za=Math.ceil,Aa=Math.trunc,B=isNaN;a.__name__="math";a.acos=n;a.acosh=t;
a.asin=p;a.asinh=h;a.atan=u;a.atan2=z;a.atanh=ea;a.ceil=za;a.cos=l;a.cosh=v;a.degrees=function(a){return 180*a/Math.PI};a.e=c;a.exp=d;a.expm1=function(a){return Math.exp(a)-1};a.floor=A;a.hypot=Z;a.inf=Infinity;a.isnan=B;a.log=function(a,b){return void 0===b?Math.log(a):Math.log(a)/Math.log(b)};a.log10=function(a){return Math.log(a)/Math.LN10};a.log1p=function(a){return Math.log(a+1)};a.log2=function(a){return Math.log(a)/Math.LN2};a.nan=NaN;a.pi=b;a.pow=e;a.radians=function(a){return a*Math.PI/180};
a.sin=k;a.sinh=y;a.sqrt=g;a.tan=m;a.tanh=f;a.trunc=Aa}}});J(e,"random",{__all__:{__inited__:!1,__init__:function(a){var b={};J(b,"",y(e.math));var c=function(){for(var a=[],b=0;624>b;b++)a.append(0);return a}(),d=0,g=Math.pow(2,32)-1,k=Math.pow(2,31),l=Math.pow(2,31)-1,m=function(){for(var a=0;624>a;a++){var b=(c[a]&k)+(c[G(a+1,624)]&l);c[a]=c[G(a+397,624)]^b>>1;0!=G(b,2)&&(c[a]^=2567483615)}},p=function(){0==d&&m();var a=c[d];a^=a>>11;a^=a<<7&2636928640;a^=a<<15&4022730752;a^=a>>18;d=G(d+1,624);
return a},n=function(a){if("undefined"==typeof a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=B(l*Math.random());c[0]=a;for(a=1;624>a;a++)c[a]=(1812433253*c[a-1]^(c[a-1]>>30)+a)&g},u=function(a,b){return a+G(p(),b-a+1)},v=function(){return p()/l};n();a.__name__="random";a._array=c;a._bitmask1=g;a._bitmask2=k;a._bitmask3=l;a._fill_array=m;a._index=d;a._random_integer=p;a.choice=function(a){return a[u(0,A(a)-1)]};a.randint=u;a.random=v;a.seed=n;a.shuffle=function(a){for(var c=A(a)-1;0<c;c--){var d=
b.floor(v()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}}}}});J(e,"unit",{__all__:{__inited__:!1,__init__:function(a){var b=y(e.math).ceil,d=y(e.math).pi,g=y(e.math).cos,m=y(e.math).log,r=y(e.random).random,n=y(e.random).randint,v=y(e.crtraits).data,w=y(e.crtraits).haters,x=y(e.crtraits).elementals,D=new I("DOUBLE_WIDE SHOOTING_ARMY const_free_attack const_jousting const_no_melee_penalty const_two_attacks IS_UNDEAD cusELEMENTAL cusGOLEM".split(" ")),F=function(a,b){return b*Math.pow(-2*m(r()),.5)*g(2*d*r())+a},
z=function(a,b){if(100>a){for(var c=[],f=0;f<B(a);f++)c.append(r()<b);a=u(c);return K(a)}return B(F(a*b,Math.pow(a*b*(1-b),.5)))},E=function(a,b){var c=Math.floor(a/b);return l([c,a-b*c])},G=C("UnitType",[Q],{__module__:"unit",get __init__(){return k(this,function(a,b,c,d,e,g,k,l,m,n,r){a.py_name=b;a.ai_value=c;a.hp=d;a.speed=e;a.attack=g;a.defense=k;a.dmg_min=l;a.dmg_max=m;a.shots=n;a.attributes=function(){for(var a=[],b=0;b<A(r);b++){var c=r[b];p(c,D)&&a.append(c)}return a}();a.hates=function(){for(var b=
[],c=0;c<A(w);c++){var f=w[c],d=f[1];f[0]==a.py_name&&b.append(d)}return b}();a.opp_elem=function(){for(var b=[],c=0;c<A(x);c++){var f=x[c],d=f[1];f[0]==a.py_name&&b.append(d)}return b}()})}}),J=C("Stack",[Q],{__module__:"unit",get __init__(){return k(this,function(a,b,d){a.unit=b;a.cap=d;a.py_name=b.py_name;a.speed=b.speed;a.true_hp=b.hp;a.true_attack=b.attack;a.true_defense=b.defense;a.dmg_min=b.dmg_min;a.dmg_max=b.dmg_max;a.hates=b.hates;a.opp_elem=b.opp_elem;a.attributes=b.attributes;"Battle Dwarf"==
a.py_name?a.magic_resist=.4:p(a.py_name,c(["Dwarf","Crystal Dragon"]))?a.magic_resist=.2:a.magic_resist=0;"Gold Dragon"==a.py_name?a.spell_immunity=4:p(a.py_name,c(["Black Dragon","Magic Elemental"]))?a.spell_immunity=5:p(a.py_name,c(["Green Dragon","Red Dragon","Azure Dragon"]))?a.spell_immunity=3:a.spell_immunity=0;a.reset_state()})},get reset_state(){return k(this,function(a){a.count=a.cap;a.hp=a.true_hp;a.hp_left=a.hp;a.attack=a.true_attack;a.defense=a.true_defense;a.shots=a.unit.shots;a.aged=
-1;a.poisoned=-1;a.times_poisoned=0;a.cursed=0;a.weakened=0;a.diseased=0;a.petrified=0;a.blinded=0;a.paralyzed=0;a.stunned_from_retaliation=!1;a.rebirth_available="Phoenix"==a.py_name||!1})},get take_dmg(){return k(this,function(a,b){if(b<a.hp_left)a.hp_left-=b;else{b-=a.hp_left;b=E(b,a.hp);var c=b[1];a.count-=b[0]+1;a.hp_left=a.hp-c;a.count=H(a.count,0)}"Phoenix"==a.py_name&&!a.is_alive()&&a.rebirth_available&&a.rebirth()})},get __calc_base_damage(){return k(this,function(a,b){var c=0<a.cursed?a.dmg_min:
a.dmg_max;var f=10>a.count?K(function(){for(var b=[],f=0;f<B(a.count);f++)b.append(n(a.dmg_min,c));return b}()):Math.floor(K(function(){for(var b=[],f=0;10>f;f++)b.append(n(a.dmg_min,c));return b}())*a.count/10);b=b.defense;"Behemoth"==a.py_name?b=B(.6*b):"Ancient Behemoth"==a.py_name&&(b=B(.2*b));var d=a.attack-b;var e=b=0;0<d?e=O(.05*d,3):b=O(.025*-d,.7);return l([f,e,b])})},get attack_melee(){return k(this,function(a,b,d,e,g){if("undefined"==typeof d||null!=d&&d.hasOwnProperty("__kwargtrans__"))d=
null;if("undefined"==typeof e||null!=e&&e.hasOwnProperty("__kwargtrans__"))e=!1;if("undefined"==typeof g||null!=g&&g.hasOwnProperty("__kwargtrans__"))g=!1;if(arguments.length){var f=arguments.length-1;if(arguments[f]&&arguments[f].hasOwnProperty("__kwargtrans__")){f=arguments[f--];for(var h in f)switch(h){case "self":a=f[h];break;case "other":b=f[h];break;case "dmg_reductions":d=f[h];break;case "melee_penalty":e=f[h];break;case "retaliation":g=f[h]}}}h=0;null===d&&(d=c([]));f=a.__calc_base_damage(b);
var k=f[0],l=f[2];h+=f[1];d.append(l);e&&d.append(.5);"Dread Knight"==a.py_name&&.2>r()?h++:p(b.py_name,a.hates)?h+=.5:p(b.py_name,a.opp_elem)&&h++;"Magic Elemental"==a.py_name&&5==b.spell_immunity?d.append(.5):"Psychic Elemental"==a.py_name&&(b.is_nonliving()||p(b.py_name,c(["Giant","Titan","Black Dragon"])))&&d.append(.5);h=k*(1+h);f=.2*O(h,(b.count-1)*b.hp+b.hp_left);k=d;for(l=0;l<A(k);l++)h*=1-k[l];h=B(h);b.take_dmg(h);b.petrified=0;b.blinded=0;b.paralyzed=0;b.stunned_from_retaliation=!1;"Vampire Lord"!=
a.py_name||b.is_nonliving()?"Mighty Gorgon"!=a.py_name||b.is_nonliving()?"Thunderbird"==a.py_name&&2>b.spell_immunity&&!p(b.py_name,c(["Earth Elemental","Magma Elemental"]))&&.2>r()&&r()>b.magic_resist?a.thunderbolt(b):"Rust Dragon"==a.py_name?a.acid_breath(b):"Ghost Dragon"==a.py_name&&!b.is_nonliving()&&.2>r()?b.start_aging():"Wyvern Monarch"==a.py_name&&5>b.times_poisoned&&!b.is_nonliving()&&.2>r()?b.start_poison():p(a.py_name,c(["Black Knight","Dread Knight","Mummy"]))&&1>b.spell_immunity&&!b.is_undead()&&
!p(b.py_name,c("Efreet;Efreet Sultan;Fire Elemental;Energy Elemental;Firebird;Phoenix".split(";")))&&r()>b.magic_resist?("Mummy"==a.py_name&&.5>r()||"Mummy"!=a.py_name&&.2>r())&&a.start_curse(b):"Dragon Fly"==a.py_name&&2>b.spell_immunity&&r()>b.magic_resist?a.start_weakness(b):"Zombie"==a.py_name&&!b.is_nonliving()&&.2>r()?a.start_disease(b):p(a.py_name,c(["Medusa","Medusa Queen","Basilisk","Greater Basilisk"]))&&0==b.spell_immunity&&!p(b.py_name,c(["Troglodyte","Infernal Troglodyte"]))&&.2>r()?
(a.start_petrification(b),b.stunned_from_retaliation=g):p(a.py_name,c(["Unicorn","War Unicorn"]))&&2>b.spell_immunity&&!b.is_nonliving()&&!p(b.py_name,c("Troglodyte;Infernal Troglodyte;Giant;Titan;Efreet;Efreet Sultan;Firebird;Phoenix".split(";")))&&.2>r()?(a.start_blindness(b),b.stunned_from_retaliation=g):"Scorpicore"==a.py_name&&!p(b.py_name,c(["Gold Dragon","Black Dragon","Magic Elemental"]))&&.2>r()&&(a.start_paralysis(b),b.stunned_from_retaliation=g):a.death_stare(b):a.drain_life(h);"Efreet Sultan"!=
b.py_name||p(a.py_name,c("Efreet;Efreet Sultan;Fire Elemental;Energy Elemental;Firebird;Phoenix".split(";")))||a.efreet_fire_shield(f)})},get attack_range(){return k(this,function(a,b,c){var f=a.__calc_base_damage(b);f=f[0]*(1+(0+f[1]))*(1-f[2]);c&&(f/=2);b.take_dmg(B(f));a.shots--})},get start_weakness(){return k(this,function(a,b){b.weakened=a.speed>b.speed?3:a.speed<b.speed?2:n(2,3);b.attack=H(0,b.true_attack-6)})},get weakness(){return k(this,function(a){a.weakened--;0==a.weakened&&(a.attack=
a.true_attack)})},get start_curse(){return k(this,function(a,b){b.cursed=a.speed>b.speed?3:a.speed<b.speed?2:n(2,3)})},get curse(){return k(this,function(a){a.cursed--})},get start_disease(){return k(this,function(a,b){b.diseased=a.speed>b.speed?3:a.speed<b.speed?2:n(2,3);b.attack=H(0,b.true_attack-2);b.defense=H(0,b.true_defense-2)})},get disease(){return k(this,function(a){a.diseased--;0==a.diseased&&(a.attack=a.true_attack,a.defense=a.true_defense)})},get start_petrification(){return k(this,function(a,
b){b.petrified=a.speed>b.speed?3:a.speed<b.speed?2:n(2,3)})},get petrification(){return k(this,function(a){a.petrified--})},get start_blindness(){return k(this,function(a,b){b.blinded=a.speed>b.speed?3:a.speed<b.speed?2:n(2,3)})},get blindness(){return k(this,function(a){a.blinded--})},get start_paralysis(){return k(this,function(a,b){b.paralyzed=a.speed>b.speed?3:a.speed<b.speed?2:n(2,3)})},get paralysis(){return k(this,function(a){a.paralyzed--})},get start_aging(){return k(this,function(a){var b=
0<a.aged;a.aged=14>a.speed?3:2;b||(b=a.hp-a.hp_left,a.hp=Math.floor((a.hp+1)/2),a.hp_left=H(1,a.hp-b))})},get age(){return k(this,function(a){a.aged--;0==a.aged&&a.stop_aging()})},get stop_aging(){return k(this,function(a){a.aged=-1;var b=a.hp-a.hp_left;a.hp=a.true_hp;a.hp_left=a.hp-b})},get start_poison(){return k(this,function(a){var c=0<=a.poisoned;a.poisoned=2;c||(a.times_poisoned++,c=a.hp-a.hp_left,a.hp=B(b(a.true_hp*(1-.1*a.times_poisoned))),a.hp_left=H(1,a.hp-c))})},get poison(){return k(this,
function(a){a.poisoned--;if(5>a.times_poisoned&&0<=a.poisoned){a.times_poisoned++;var c=a.hp-a.hp_left;a.hp=B(b(a.true_hp*(1-.1*a.times_poisoned)));a.hp_left=H(1,a.hp-c)}})},get drain_life(){return k(this,function(a,b){if(a.hp_left+b<=a.hp)a.hp_left+=b;else{b-=a.hp-a.hp_left;a.hp_left=a.hp;b=E(b,a.hp);var c=b[1];a.count=O(a.cap,a.count+b[0]);a.count<a.cap&&c&&(a.count++,a.hp_left=c)}})},get acid_breath(){return k(this,function(a,b){b.defense=H(0,b.defense-3);.3>r()&&b.take_dmg(25*a.count)})},get magic_dmg_resistance(){return k(this,
function(a){return"Stone Golem"==a.py_name?.5:"Iron Golem"==a.py_name?.75:"Gold Golem"==a.py_name?.85:"Diamond Golem"==a.py_name?.95:0})},get efreet_fire_shield(){return k(this,function(a,b){b*=1-a.magic_dmg_resistance();p(a.py_name,c(["Water Elemental","Ice Elemental"]))&&(b*=2);a.take_dmg(B(b))})},get thunderbolt(){return k(this,function(a,b){var d=10*a.count;d*=1-b.magic_dmg_resistance();p(a.py_name,c(["Air Elemental","Storm Elemental"]))&&(d*=2);b.take_dmg(B(d))})},get death_stare(){return k(this,
function(a,b){if(a=O(z(a.count,.1),Math.floor((a.count+9)/10)))b.count=H(0,b.count-a),b.hp_left=b.hp})},get rebirth(){return k(this,function(a){var b=E(a.count,5),c=b[1];b=b[0]+(r()<.2*c);a.count=b;a.rebirth_available=!1})},get regenerate(){return k(this,function(a){a.hp_left=a.hp})},get is_alive(){return k(this,function(a){return 0<a.count})},get is_shooter(){return k(this,function(a){return p("SHOOTING_ARMY",a.attributes)})},get strikes_twice(){return k(this,function(a){return p("const_two_attacks",
a.attributes)&&!a.is_shooter()})},get shoots_twice(){return k(this,function(a){return p("const_two_attacks",a.attributes)&&a.is_shooter()})},get is_big(){return k(this,function(a){return p("DOUBLE_WIDE",a.attributes)})},get melee_penalty(){return k(this,function(a){return a.is_shooter()&&!p("const_no_melee_penalty",a.attributes)})},get no_retaliation(){return k(this,function(a){return p("const_free_attack",a.attributes)})},get range_penalty(){return k(this,function(a){return a.is_shooter()&&"Sharpshooter"!=
a.py_name})},get is_elemental(){return k(this,function(a){return p("cusELEMENTAL",a.attributes)})},get is_undead(){return k(this,function(a){return p("IS_UNDEAD",a.attributes)})},get is_golem(){return k(this,function(a){return p("cusGOLEM",a.attributes)})},get is_nonliving(){return k(this,function(a){return a.is_elemental()||a.is_undead()||a.is_golem()})},get is_stunned(){return k(this,function(a){return M(a.petrified||a.blinded||a.paralyzed)})},get advance_statuses(){return k(this,function(a){0<
a.aged&&a.is_alive()?a.age():0<=a.poisoned&&a.is_alive()?a.poison():a.cursed?a.curse():a.weakened?a.weakness():a.diseased?a.disease():a.petrified?a.petrification():a.blinded?a.blindness():a.paralyzed&&a.paralysis()})}});a.Stack=J;a.UnitType=G;a.__name__="unit";a.ceil=b;a.cos=g;a.data=v;a.elementals=x;a.haters=w;a.keywords=D;a.log=m;a.make_unit=function(a){var b=v[a];return G(a,b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8])};a.my_binomial=z;a.my_divmod=E;a.my_gauss=F;a.pi=d;a.randint=n;a.random=r}}});
(function(){var a=y(e.unit).make_unit,b=y(e.unit).Stack,c=y(e.combat).fight,d=y(e.combat).find_balance;e.Stack=b;e.__name__="__main__";e.fight=function(d,e,g,k,m){d=b(a(d),e);g=b(a(g),k);m=c(d,g,m);k=d.py_name+": {}".format(m[d.py_name][0]);m=g.py_name+": {}".format(m[g.py_name][0]);return l([k,m])};e.fight_orig=c;e.find_balance=function(a,b,c,e,g){var k=b||e;e=e?1:0;var l=G(e+1,2);b=d(k==b?a:c,k==b?c:a,g,k);return"{} {} \u2248 {} {}".format(b[e],a,b[l],c)};e.find_balance_orig=d;e.make_unit=a})();
return e}window.fight_sim=fight_sim();

//# sourceMappingURL=extra/sourcemap/fight_sim.min.js.map
